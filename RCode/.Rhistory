ali
ali <- c(rep('c'))
ali
ali <- c(rep('c'),10)
ali
ali <- c(rep('c',10))
ali
ali <- c(ali, rep('c',10))
ali
ali <- c('l','l')
ali
ali <- c(ali, rep('c',10))
ali
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")))
Dax$Date <- rownames(Dax)
Dax <- Dax[,c(6,1,2,3,4)]
atr <- ATR(Mkt[,c("High","Low","Close")], n=14)
class(atr)
Mkt <- cbind(Mkt,atr)
tail(Mkt)
class(Mkt)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")))
Dax$Date <- rownames(Dax)
tail(Dax)
atr <- ATR(Mkt[,c(2,3,4)], n=14)
class(atr)
Mkt <- cbind(Mkt,atr)
tail(Mkt)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")))
Dax$Date <- rownames(Dax)
tail(Dax)
Dax <- Dax[,c(6,1,2,3,4)]
#atr <- ATR(Mkt[,c("High","Low","Close")], n=14)
atr <- ATR(Mkt[,c(2,3,4)], n=14)
atr <- ATR(Dax[,c(2,3,4)], n=14)
Mkt = read.csv("D:/Allan/DropBox/MSc/Dissertation/Thesis/Data/CAC_2000_d.csv",stringsAsFactors = FALSE)
atr <- ATR(Mkt[,c("High","Low","Close")], n=14)
Mkt <- cbind(Mkt,atr)
tail(Mkt)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d"),,stringsAsFactors = FALSE))
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
Dax$Date <- rownames(Dax)
tail(Dax)
Dax <- Dax[,c(6,1,2,3,4)]
atr <- ATR(Dax[,c(2,3,4)], n=14)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
class(Dax)
Dax2 <- getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d"))
class(Dax2)
tail(Dax)
Dax$Date <- rownames(Dax)
tail(Dax)
str(Dax)
Dax$Date <- as.POSIXct(Dax$Date,format='%d/%m/%Y')
tail(Dax)
Dax$Date <- as.POSIXct(Dax$Date,format='%Y/%m/%d')
tail(Dax)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
class(Dax)
Dax$Date <- rownames(Dax)
tail(Dax)
Dax$Date <- as.POSIXct(Dax$Date,format='%Y/%m/%d')
tail(Dax)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
class(Dax)
Dax$Date <- rownames(Dax)
tail(Dax)
str(Dax)
Dax$Date <- as.POSIXct(Dax$Date,format='%Y-%m-%d')
tail(Dax)
Dax <- Dax[,c(6,1,2,3,4)]
atr <- ATR(Dax[,c(2,3,4)], n=12)
str(Dax)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
tail(Dax)
atr <- ATR(Dax[,c(2,3,4)], n=12)
str(Dax)
atr <- ATR(Mkt[,c("High","Low","Close")], n=14)
Dax <- Dax[,c(6,1,2,3,4)]
atr <- ATR(Dax[,c("High","Low","Close")], n=14)
atr <- ATR(Dax[,c(2,3,4)], n=12)
library(forecast)
library(xtable)
library(forecast)
library(forecast)
mean_model <- meanf(Mkt_train, h=5)
library(forecast)
install.packages("forecast")
library(forecast)
setwd("D:/Allan/DropBox/MSc/Dissertation/Thesis/RCode")
library(xtable)
library(TTR)
library(candlesticks)
source("../RCode//Utils.R")
source("../RCode//NaiveLongSystem.R")
source("../RCode//NaiveFollowPrev.R")
source("../RCode//NaiveLongSystem2.R")
source("../RCode//SMA_sys.R")
source("../RCode//MACD_XO.R")
source("../RCode//Aroon.R")
source("../RCode//SAR.R")
source("../RCode//Stoch.R")
source("../RCode//ROC.R")
source("../RCode//ROC2.R")
source("../RCode//MACD_OB.R")
source("../RCode//Bout_sys.R")
source("../RCode//Quant90_sys.R")
source("../RCode//Candle_Hammer.R")
source("../RCode//Candle_Hammer_aroon.R")
source("../RCode//Candle_Engulf.R")
source("../RCode//Candle_Engulf_aroon.R")
source("../RCode//Candle_Doji_aroon.R")
fil <- c("../Data/Dax_2000_d.csv",
"../Data/CAC_2000_d.csv",
"../Data/F100_2000_d.csv",
"../Data/Dow_2000_d.csv",
"../Data/N225_2000_d.csv",
"../Data/Oz_2000.csv")
nm <- c("Dax", "CAC", "F100", "Dow", "Nik", "Oz")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11)) # to hold results
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveLongSystem2(Dax, 0, nm[i])
df.name <- names(a)
names(df10) <- df.name
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]
# produce latex table
dat <- df10[-1,c(1,3,5,6)]
dig <- 2
caption = c('Naive Long System changed such that the trading period is the previous close price minus today\'s close.',
'Naive Long System - Close to Close')
lab = 'tab:nlng_results_2'
filname ='../Tables/chp_ta_naive_long_ctoc.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
dat <- df10[-1,c(1,3,5,6)]
dig <- 2
caption = c('Naive Long System changed such that the trading period is the previous close price minus today\'s close.',
'Naive Long System - Close to Close')
lab = 'tab:nlng_results_2'
filname ='../Tables/chp_ta_naive_long_ctoc.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
dat <- df10[-1,c(1,3,5,6)]
dig <- 2
cap = c('Naive Long System changed such that the trading period is the previous close price minus today\'s close.',
'Naive Long System - Close to Close')
lab = 'tab:nlng_results_2'
filname ='../Tables/chp_ta_naive_long_ctoc.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveFollowPrev(Dax, 0, nm[i])
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]        #NOTE ln -1
ln <- nrow(df10)
ln
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveFollowPrev(Dax, 0, nm[i])
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]        #NOTE ln -1
dat <- df10[-1,c(1,3,4,5,6,8,9)]
dig <- 2
caption = caption = c('Naive system which repeats the previous day\'s trade direction.',
'Naive Following System.')
lab = 'tab:ntfresults'
filname ='../Tables/chp_ta_naive_follow_prev.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- BaseSystem1SMA(Dax, 5, 0, nm[i])
b <- BaseSystem1SMA(Dax, 25, 0, nm[i])
c <- BaseSystem1SMA(Dax, 50, 0, nm[i])
d <- BaseSystem1SMA(Dax, 100, 0, nm[i])
e <- BaseSystem1SMA(Dax, 200, 0, nm[i])
df10 <- rbind(df10, a, b, c, d, e)
}
df10 <- df10[-c(1:ln-1),]
dat <- df10[-1,c(1,3,4,5,6,8,9,11)]
dig <- 2
caption = caption = c('Results from SMA system.','SMA Base System')
lab = 'tab:sma_results'
filname ='../Tables/chp_ta_sma.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveLongSystem2(Dax, 0, nm[i])
df.name <- names(a)
names(df10) <- df.name
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]
fil <- c("../Data/Dax_2000_d.csv",
"../Data/CAC_2000_d.csv",
"../Data/F100_2000_d.csv",
"../Data/Dow_2000_d.csv",
"../Data/N225_2000_d.csv",
"../Data/Oz_2000.csv")
nm <- c("Dax", "CAC", "F100", "Dow", "Nik", "Oz")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11)) # to hold results
ln <- nrow(df10)
ln
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveLongSystem2(Dax, 0, nm[i])
df.name <- names(a)
names(df10) <- df.name
df10 <- rbind(df10, a)
}
df10
df10 <- df10[-c(1:ln-1),]
df10
df10
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveLongSystem(Dax, 0, nm[i])
df.name <- names(a)
names(df10) <- df.name
df10 <- rbind(df10, a)
}
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11)) # to hold results
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveLongSystem(Dax, 0, nm[i])
df.name <- names(a)
names(df10) <- df.name
df10 <- rbind(df10, a)
}
dat <- df10[-1,c(1,3,5,6)]
dig <- 2
cap = c('Naive Long System. A very simple system in which the algorithm assumes the market will rise and enters a long trade each day.',
'Naive Long System')
lab = 'tab:nlng_results'
filname ='../Tables/chp_ta_naive_long.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveLongSystem2(Dax, 0, nm[i])
df.name <- names(a)
names(df10) <- df.name
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]
df10
dat <- df10[-1,c(1,3,5,6)]
dig <- 2
cap = c('Naive Long System changed such that the trading period is the previous close price minus today\'s close.',
'Naive Long System - Close to Close')
lab = 'tab:nlng_results_2'
filname ='../Tables/chp_ta_naive_long_ctoc.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- NaiveFollowPrev(Dax, 0, nm[i])
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]        #NOTE ln -1
df10
dat <- df10[-1,c(1,3,4,5,6,8,9)]
dig <- 2
caption = caption = c('Naive system which repeats the previous day\'s trade direction.',
'Naive Following System.')
lab = 'tab:ntfresults'
filname ='../Tables/chp_ta_naive_follow_prev.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- BaseSystem1SMA(Dax, 5, 0, nm[i])
b <- BaseSystem1SMA(Dax, 25, 0, nm[i])
c <- BaseSystem1SMA(Dax, 50, 0, nm[i])
d <- BaseSystem1SMA(Dax, 100, 0, nm[i])
e <- BaseSystem1SMA(Dax, 200, 0, nm[i])
df10 <- rbind(df10, a, b, c, d, e)
}
df10 <- df10[-c(1:ln-1),]
dat <- df10[-1,c(1,3,4,5,6,8,9,11)]
dig <- 2
caption = caption = c('Results from SMA system.','SMA Base System')
lab = 'tab:sma_results'
filname ='../Tables/chp_ta_sma.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
#f <- BaseSystem1SMA(Dax, 5, -50, nm[i])
#g <- BaseSystem1SMA(Dax, 5, -100, nm[i])
h <- BaseSystem1SMA(Dax, 100, -50, nm[i])
hh <- BaseSystem1SMA(Dax, 100, -100, nm[i])  #don't use i !!!!!
df10 <- rbind(df10,h,hh)
}
df10 <- df10[-c(1:ln-1),]
dat <- df10[-1,c(1,2,3,4,5,6,8,9,11)]
dig <- 2
caption = caption = c('Results from SMA system with Stop Loss.',
'SMA Base System with Stop Loss')
lab = 'tab:sma_results_Sloss'
filname ='../Tables/chp_ta_sma_sloss.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])                        #read data
ar <- aroon(Dax[c(3,4)], n=20)                 #calc Aroon values
Dax <- cbind(Dax, ar)                           #Add Aroon values to orig data set
a <- aroon_sys(Dax, 0, nm[i])                  #Call fnc
df10 <- rbind(df10, a)             #add results
}
df10 <- df10[-c(1:ln-1),]                #NOTE ln-1 !!!!!
dat <- df10[-1,c(1,3,4,5,6,8,9)]
dig <- 2
caption = caption = c('Aroon trend indicator.',
'Aroon trend indicator')
lab = 'tab:aroon_results'
filname ='../Tables/chp_ta_aroon.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
aroondfsl <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])                        #read data
ar <- aroon(Dax[c(3,4)], n=20)                 #calc Aroon values
Dax <- cbind(Dax, ar)                           #Add Aroon values to orig data set
a <- aroon_sys(Dax, -100, nm[i])                  #Call fnc
aroondfsl <- rbind(aroondfsl, a)
}
df.name <- names(a)
names(aroondfsl) <- df.name
dat <- df10[-1,c(1,3,4,5,6,8,9)]
dig <- 2
caption = caption = c('Aroon trend indicator with stop loss.',
'Aroon trend indicator with Stop Loss')
lab = 'tab:aroon_results_sloss'
filname ='../Tables/chp_ta_aroon_sloss.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
aroondfsldf <- as.data.frame(matrix(seq(3),nrow=1,ncol=3))
ln <- nrow(aroondfsl)
res <- 1:3
for(i in 1:ln){
res[1] <- aroondfsl[i,1]
res[2] <- as.numeric(aroondfsl[i,3]) - as.numeric(df10[i,3])
res[3] <- as.numeric(aroondfsl[i,4]) - as.numeric(df10[i,4])
aroondfsldf <- rbind(aroondfsldf,res)
}
df.name <- c("Market", "Long Difference", "Short Difference")
names(aroondfsldf) <- df.name
aroondfsldf <- aroondfsldf[-1,]
dat <- aroondfsldf[-1,c(1,2,3)]
dig <- 2
caption = caption = c('Impact of stop loss on Aroon.',
'Impact of using stop loss with Aroon trend indicator.')
lab = 'tab:aroon_results_sloss_diff'
filname ='../Tables/chp_ta_aroon_diff.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
sar <- SAR(Dax[c(3,4)]) #HL
Dax <- cbind(Dax,sar)
a <- sar_sys(Dax,0, nm[i])
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]
dat <- df10[-1,c(1,3,4,5, 6, 9)]
dig <- 2
caption = caption = c('Results from SAR system.','SAR Base System')
lab = 'tab:sar_results'
filname ='../Tables/chp_ta_sar.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])                             #read data
ma <- MACD( Dax[,"Open"], 12, 26, 9, maType="EMA" ) #calc MACD values
Dax <- cbind(Dax, ma)                               #Add MACD values to orig data set
lw <- quantile(Dax$macd, na.rm=T, probs=0.15)       #Calc low val for algo
up <- quantile(Dax$macd, na.rm=T, probs=0.85)       #Calc up val for algo
a <- MACD_OB(Dax, 0, nm[i], lw, up)                 #Call fnc
df10 <- rbind(df10, a)                  #add results
}
df10 <- df10[-c(1:ln-1),]                #NOTE ln-1 !!!!!
dat <- df10[-1,c(1,3,4,5, 6, 8,9)]
dig <- 2
caption = caption = c('MACD can also be used as a trend reveral indicator.',
'MACD as Trend Reversal Indicator')
lab = 'tab:mac_ob_results'
filname ='../Tables/chp_ta_macd_ob.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
st <- stoch(Dax[c(3,4,5)]) #HL
Dax <- cbind(Dax,st)
a <- stoch_sys(Dax, 0, nm[i])
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]
dat <- df10[-1,c(1,3,4,5, 6, 8,9)]
dig <- 2
caption = caption = c('Results from Stochastics system.',
'Stochastics system')
lab = 'tab:stoch_results'
filname ='../Tables/chp_ta_stoch.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
st <- stoch(Dax[c(3,4,5)]) #HL
Dax <- cbind(Dax,st)
a <- stoch_sys(Dax, -100, nm[i])
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]
dat <- df10[-1,c(1,3,4,5, 6, 8,9)]
dig <- 2
caption = caption = c('Results from Stochastics system and using a Stop Loss.',
'Stochastics system with stop loss')
lab = 'tab:stoch_results_sloss'
filname ='../Tables/chp_ta_stoch_sloss.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
#results <- 1:11
for(i in 1:length(fil)){
Mkt <- read.csv(fil[i])                          #read data
roc <- ROC( Mkt$Close )                          #calc MACD values
Mkt <- cbind(Mkt, roc)                           #Add MACD values to orig data set
lw <- quantile(Mkt$roc, na.rm=T, probs=0.15)     #Calc low val for algo
up <- quantile(Mkt$roc, na.rm=T, probs=0.85)     #Calc up val for algo
a <- roc_sys(Mkt, 0, nm[i], lw, up)              #Call fnc
df10 <- rbind(df10, a)               #add results
}
df10 <- df10[-c(1:ln-1),]                #NOTE ln-1 !!!!!
dat <- df10[-1,c(1,3,4,5, 6, 8,9)]
dig <- 2
caption = caption = caption = c('ROC.',
'ROC')
lab = 'tab:mac_roc_results'
filname ='../Tables/chp_ta_roc.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
#results <- 1:11
for(i in 1:length(fil)){
Mkt <- read.csv(fil[i])                          #read data
roc <- ROC( Mkt$Close )                          #calc MACD values
Mkt <- cbind(Mkt, roc)                           #Add MACD values to orig data set
lw <- quantile(Mkt$roc, na.rm=T, probs=0.15)     #Calc low val for algo
up <- quantile(Mkt$roc, na.rm=T, probs=0.85)     #Calc up val for algo
a <- roc_sys2(Mkt, 0, nm[i])              #Call fnc
df10 <- rbind(df10, a)               #add results
}
df10 <- df10[-c(1:ln-1),]                #NOTE ln-1 !!!!!
dat <- df10[-1,c(1,3,4,5, 6, 8,9)]
dig <- 2
caption = caption = caption = c('ROC2.',
'ROC2')
lab = 'tab:mac_roc2_results'
filname ='../Tables/chp_ta_roc2.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- BaseSystem2Bout(Dax, 0, nm[i])
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]
dat <- df10[-1,c(1,3,4,5, 6, 8,9)]
dig <- 2
caption = caption = caption = c('Results from Daily High / Low Breakout System.',
'Daily High / Low Breakout System')
lab = 'tab:hl_bout_sys'
filname ='../Tables/chp_ta_b_out.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
ln <- nrow(df10)
for(i in 1:length(fil)){
Dax <- read.csv(fil[i])
a <- BaseSystem3Quant902(Dax, 0, nm[i])
df10 <- rbind(df10, a)
}
df10 <- df10[-c(1:ln-1),]
dat <- df10[-1,c(1,3,4,5, 6, 8,9)]
dig <- 2
caption = caption = caption = c('Base System 3 - 90 Quantile.','Base System 3')
lab = 'tab:q_90_results'
filname ='../Tables/chp_ta_90q.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
