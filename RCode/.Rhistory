tail(Dax)
Dax <- Dax[,c(6,1,2,3,4)]
atr <- ATR(Dax[,c(2,3,4)], n=14)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
class(Dax)
Dax2 <- getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d"))
class(Dax2)
tail(Dax)
Dax$Date <- rownames(Dax)
tail(Dax)
str(Dax)
Dax$Date <- as.POSIXct(Dax$Date,format='%d/%m/%Y')
tail(Dax)
Dax$Date <- as.POSIXct(Dax$Date,format='%Y/%m/%d')
tail(Dax)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
class(Dax)
Dax$Date <- rownames(Dax)
tail(Dax)
Dax$Date <- as.POSIXct(Dax$Date,format='%Y/%m/%d')
tail(Dax)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
class(Dax)
Dax$Date <- rownames(Dax)
tail(Dax)
str(Dax)
Dax$Date <- as.POSIXct(Dax$Date,format='%Y-%m-%d')
tail(Dax)
Dax <- Dax[,c(6,1,2,3,4)]
atr <- ATR(Dax[,c(2,3,4)], n=12)
str(Dax)
Dax <- as.data.frame(getYahooData("^GDAXI", format(Sys.Date()-50, format="%Y%m%d"), format(Sys.Date(), format="%Y%m%d")),stringsAsFactors = FALSE)
tail(Dax)
atr <- ATR(Dax[,c(2,3,4)], n=12)
str(Dax)
atr <- ATR(Mkt[,c("High","Low","Close")], n=14)
Dax <- Dax[,c(6,1,2,3,4)]
atr <- ATR(Dax[,c("High","Low","Close")], n=14)
atr <- ATR(Dax[,c(2,3,4)], n=12)
library(forecast)
library(xtable)
library(forecast)
library(forecast)
mean_model <- meanf(Mkt_train, h=5)
library(forecast)
install.packages("forecast")
library(forecast)
r_p_ind <- function(Mkt, nr){
#browser()
Mkt <- AddPrev(Mkt)
au <- Mkt$aroonUp[nr]
ad <- Mkt$aroonDn[nr]
os <- Mkt$oscillator[nr]
df <- Mkt$Diff[nr]
c <- au_df(Mkt,au,df)
d <- ad_df(Mkt,ad,df)
e <- os_df(Mkt,os,df)
e2 <- c+d+e
return(c(c,d,e,e2))
}
Mkt_ta <- read.csv("D:/Allan/DropBox/RWorkingDir/Trading/Data/Oz_ta.csv")
Mkt_ta$Date[nrow(Mkt_ta)]
ln <- nrow(Mkt_ta) ;ln
lw <- ln - 300 ;lw
Mkt_ta <- Mkt_ta[lw:ln,]
ln <- nrow(Mkt_ta) ;ln
r_p_ind(Mkt_ta, ln)
source("D:/Allan/DropBox/RWorkingDir/Trading/Dax/addTA_fnc.R")
r_p_ind2(Mkt_ta, ln)
r_p_ind2 <- function(Mkt, nr){
#browser()
Mkt <- AddPrev(Mkt)
au <- Mkt$aroonUp[nr]
ad <- Mkt$aroonDn[nr]
os <- Mkt$oscillator[nr]
df <- Mkt$Diff[nr]
c <- au_df(Mkt,au,df)
d <- ad_df(Mkt,ad,df)
e <- os_df(Mkt,os,df)
e2 <- c+d+e
return(c(c,d,e,e2))
}
r_p_ind2(Mkt_ta, ln)
ln <- nrow(Mkt)
r_p_ind2 <- function(Mkt, nr){
#browser()
Mkt <- AddPrev(Mkt)
au <- Mkt$aroonUp[nr]
ad <- Mkt$aroonDn[nr]
os <- Mkt$oscillator[nr]
df <- Mkt$Diff[nr]
ln <- nrow(Mkt)
Mkt <- Mkt[-ln,]
c <- au_df(Mkt,au,df)
d <- ad_df(Mkt,ad,df)
e <- os_df(Mkt,os,df)
e2 <- c+d+e
return(c(c,d,e,e2))
}
r_p_ind2(Mkt_ta, ln)
setwd("D:/Allan/DropBox/RWorkingDir/Trading/Dax")
source("D:/Allan/DropBox/RWorkingDir/Trading/Dax/addTA_fnc.R")
Dax_tap <- read.csv("../Data/Dax_tap.csv")
tail(Dax_tap[, c(1,2,3,4,5)])
ln <- nrow(Dax_tap)
r_p_ln(Dax_tap[1:(ln-2),])
r_p_ind(Dax_tap)
Mkt_ta <- read.csv("D:/Allan/DropBox/RWorkingDir/Trading/Data/Dax_tap.csv")
ln <- nrow(Mkt_ta) ;ln
ln <- nrow(Mkt_ta) ;ln
r_p_ind(Mkt_ta, ln)
r_p_ln(Mkt_ta)
source("D:/Allan/DropBox/RWorkingDir/Trading/Dax/addTA_fnc.R")
Mkt_ta <- read.csv("D:/Allan/DropBox/RWorkingDir/Trading/Data/Dax_tap.csv")
ln <- nrow(Mkt_ta) ;ln
r_p_ind(Mkt_ta, ln)
r_p_ln(Mkt_ta)
Dax_tap <- read.csv("../Data/Dax_tap.csv")
tail(Dax_tap[, c(1,2,3,4,5)])
ln <- nrow(Dax_tap)
source("D:/Allan/DropBox/RWorkingDir/Trading/Dax/addTA_fnc.R")
Dax_tap <- read.csv("../Data/Dax_tap.csv")
tail(Dax_tap[, c(1,2,3,4,5)])
ln <- nrow(Dax_tap)
r_p(Dax_tap,ln)
r_p_ln(Dax_tap)
r_p_ind(Dax_tap)
r_p(Dax_tap)
r_p(Dax_tap)
r_p(Dax_tap,ln)
ln <- ln - 3
r_p(Dax_tap,ln)
ln <- ln - 3
r_p(Dax_tap,ln)
r_p_ln(Dax_tap)
r_p_ln(Dax_tap.ln)
r_p_ln(Dax_tap,ln)
source('~/.active-rstudio-document', echo=TRUE)
source('D:/Allan/DropBox/MSc/Dissertation/Thesis/RCode/Chapter4.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
Mkt <- read.csv("../Data/rm_ar334_reg.csv",stringsAsFactors=F)
source('D:/Allan/DropBox/MSc/Dissertation/Thesis/RCode/Chapter5.R', echo=TRUE)
fil <- c("../Data/ARIMA/Predict_Close/ar334_ann_DAX.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_CAC.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_F100.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_Dow.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_Nik.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_Oz.csv")
nm <- c("Dax","CAC","FTSE","Dow","Nikkei","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_1_2_fnc_ar(fil,nm,TRUE)
fil <- c("../Data/ARIMA/Predict_Close/ar334_ann_DAX.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_CAC.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_FTSE.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_Dow.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_Nik.csv",
"../Data/ARIMA/Predict_Close/ar334_ann_Oz.csv")
nm <- c("Dax","CAC","FTSE","Dow","Nikkei","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_1_2_fnc_ar(fil,nm,TRUE)
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting Close Price - Arima/ANN predictions passed to System 1",
"Predicting Close Price - Arima/ANN predictions passed to System 1.")
lab = 'tab:chp_ts:arima_ann_sys1'
filname ='../Tables/chp_ts_arima_ann_sys1.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
res <- ts_1_2_fnc_ar(fil,nm,FALSE)
# produce latex table from ts_1
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting Close Price - Arima/ANN predictions passed to System 2",
"Predicting Close Price - Arima/ANN predictions passed to System 2.")
lab = 'tab:chp_ts:arima_ann_sys2'
filname ='../Tables/chp_ts_arima_ann_sys2.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
fil <- c("../Data/ARIMA/Predict_Close/ar334_knn_Dax.csv",
"../Data/ARIMA/Predict_Close/ar334_knn_CAC.csv",
"../Data/ARIMA/Predict_Close/ar334_knn_F100.csv",
"../Data/ARIMA/Predict_Close/ar334_knn_Dow.csv",
"../Data/ARIMA/Predict_Close/ar334_knn_Nik.csv",
"../Data/ARIMA/Predict_Close/ar334_knn_Oz.csv")
# a. System 1
nm <- c("Dax","CAC","FTSE","Dow","Nikkei","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
# a. System 1
res <- ts_1_2_fnc_ar(fil,nm,TRUE)
# produce latex table from ts_1
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting Close Price - Arima/knn predictions passed to System 1",
"Predicting Close Price - Arima/knn predictions passed to System 1.")
lab = 'tab:chp_ts:pred_close_arima_knn_sys1'
filname ='../Tables/chp_ts_pred_close_arima_knn_sys1.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
# a. System 2
res <- ts_1_2_fnc_ar(fil,nm,FALSE)
# produce latex table from ts_1
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting Close Price - Arima/knn predictions passed to System 2",
"Predicting Close Price - Arima/knn predictions passed to System 2")
lab = 'tab:chp_ts:pred_close_arima_knn_sys2'
filname ='../Tables/chp_ts_pred_close_arima_knn_sys2.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
fil <- c("../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_Dax.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_CAC.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_F100.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_Dow.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_N225.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_Oz.csv")
nm <- c("Dax","CAC","FTSE","Dow","Nik","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_4_fnc_ar(fil, nm)
source("../RCode/Utils.R")
res <- ts_4_fnc_ar(fil, nm)
source("../RCode/Utils.R")
res <- ts_4_fnc_ar(fil, nm)
res <- ts_4_fnc_ar(fil, nm)
source("../RCode/Utils.R")
res <- ts_4_fnc_ar(fil, nm)
source("../RCode/Utils.R")
res <- ts_4_fnc_ar(fil, nm)
nam
source("../RCode/ts_4.R")
source("../RCode/Utils.R")
res <- ts_4_fnc_ar(fil, nm)
nm[i]
nm
nm <- c("Dax","CAC","FTSE","Dow","Nik","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_4_fnc_ar(fil, nm)
nm[i]
res <- ts_4_fnc_ar(fil,0, nm)
source("../RCode/ts_4.R")
source("../RCode/Utils.R")
res <- ts_4_fnc_ar(fil,0, nm)
res
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting UpDn CAT - Arima/ANN predictions passed to System 4",
"Predicting UpDn CAT - Arima/ANN predictions passed to System 4.")
lab = 'tab:chp_ts:pUD_CAT_arima_ann_sys'
filname ='../Tables/chp_ts_predUpDn_CAT_arima_ann_sys.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
fil <- c("../Data/ARIMA/PredUpDn_CAT/ar_334_UD_knn_Dax.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_knn_CAC.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_knn_F100.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_knn_Dow.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_knn_N225.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_knn_Oz.csv")
nm <- c("Dax","CAC","FTSE","Dow","Nikkei","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_4_fnc_ar(fil, 0, nm)
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting UpDn CAT - Arima/knn predictions passed to System 4",
"Predicting UpDn CAT - Arima/knn predictions passed to System 4.")
lab = 'tab:chp_ts:pUD_CAT_arima_knn_sys'
filname ='../Tables/chp_ts_predUpDn_CAT_arima_knn_sys.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
res <- ts_4_fnc_ar(fil, -100, nm)
# produce latex table from ts_1
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting UpDn CAT - Arima/knn predictions passed to System 4 - SLoss",
"Predicting UpDn CAT - Arima/knn predictions passed to System 4 - SLoss")
lab = 'tab:chp_ts:pUD_CAT_arima_knn_sys_SL'
filname ='../Tables/chp_ts_predUpDn_CAT_arima_knn_sys_SL.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
fil <- c("../Data/ARIMA/PredUpDn_CAT/ar_334_UD_svm_Dax.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_svm_CAC.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_svm_F100.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_svm_Dow2.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_svm_N225.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_svm_Oz.csv")
nm <- c("Dax","CAC","FTSE","Dow","Nikkei","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_4_fnc_ar(fil,0, nm)
res
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting UpDn CAT - Arima/SVm predictions passed to System 4",
"Predicting UpDn CAT - Arima/SVM predictions passed to System 4.")
lab = 'tab:chp_ts:pUD_CAT_arima_svm_sys'
filname ='../Tables/chp_ts_predUpDn_CAT_arima_svm_sys.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
fil <- c("../Data/ARIMA/PredUpDn_01/ar_334_01_ANN_Dax.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_ANN_CAC.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_ANN_FTSE.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_ANN_Dow.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_ANN_N225.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_ANN_Oz.csv")
nm <- c("Dax","CAC","FTSE","Dow","Nikkei","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_3a_fnc_ar(fil, nm)
# produce latex table from ts_1
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting UpDn 01 - Arima/ANN predictions passed to System 3",
"Predicting UpDn 01 - Arima/ANN predictions passed to System 3.")
lab = 'tab:chp_ts:pUD_01_arima_ann_sys'
filname ='../Tables/chp_ts_predUpDn_01_arima_ann_sys.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
source("../RCode/ts_3a.R")
res <- ts_3a_fnc_ar(fil, nm)
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting UpDn 01 - Arima/ANN predictions passed to System 3",
"Predicting UpDn 01 - Arima/ANN predictions passed to System 3.")
lab = 'tab:chp_ts:pUD_01_arima_ann_sys'
filname ='../Tables/chp_ts_predUpDn_01_arima_ann_sys.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
fil <- c("../Data/ARIMA/PredUpDn_01/ar_334_01_knn_Dax.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_knn_CAC.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_knn_FTSE.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_knn_Dow.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_knn_Nik.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_knn_Oz.csv")
nm <- c("Dax","CAC","FTSE","Dow","Nikkei","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_3_fnc_ar(fil, nm)
# produce latex table from ts_1
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting UpDn 01 - Arima/knn predictions passed to System 3",
"Predicting UpDn 01 - Arima/knn predictions passed to System 3.")
lab = 'tab:chp_ts:pUD_01_arima_knn_sys'
filname ='../Tables/chp_ts_predUpDn_01_arima_knn_sys.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
fil <- c("../Data/ARIMA/PredUpDn_01/ar_334_01_Reg_Dax.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_Reg_CAC.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_Reg_FTSE.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_Reg_Dow.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_Reg_Nik.csv",
"../Data/ARIMA/PredUpDn_01/ar_334_01_Reg_Oz.csv")
nm <- c("Dax","CAC","FTSE","Dow","Nikkei","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_3_fnc_ar(fil, nm)
# produce latex table from ts_1
dat <- res[,c(1,3,4,5,7,8,10)]
dig <- 0
cap <- c("Predicting UpDn 01 - Arima/Reg predictions passed to System 3",
"Predicting UpDn 01 - Arima/Reg predictions passed to System 3.")
lab = 'tab:chp_ts:01_arima_reg_sys'
filname ='../Tables/chp_ts_predUpDn_01_arima_reg_sys.tex'
inclrnam=FALSE
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
source('D:/Allan/DropBox/MSc/Dissertation/Thesis/RCode/Chapter5.R', echo=TRUE)
source("../RCode/Utils.R")
fil <- c("../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_Dax.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_CAC.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_F100.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_Dow.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_N225.csv",
"../Data/ARIMA/PredUpDn_CAT/ar_334_UD_ANN_Oz.csv")
#nm <- c("Dax","CAC","FTSE","Dow","Nik","AORD")
df10 <- as.data.frame(matrix(seq(11),nrow=1,ncol=11))
res <- ts_4_fnc_ar(fil,0, nm)
source('D:/Allan/DropBox/MSc/Dissertation/Thesis/RCode/Chapter5.R', echo=TRUE)
Mkt <- read.csv("../Data/Dax_2000_d.csv")
nrow(Mkt)
Mkt$Date[2999]
Mkt_train <- window(Mkt_ts, end=2999.99)
Mkt_test <- window(Mkt_ts, start=3000)
mean_model <- meanf(Mkt_train, h=5)
a <- accuracy(mean_model, Mkt_test) #out of sample
a
rownames(a) <- c('Mean Training Set', 'Mean Test Set')
a
fcast <- forecast(mean_model)
fcast
fcast$fitted
naive_model <- naive(Mkt_train, h=5)
fcast <- forecast(naive_model)
fcast$fitted
fcast <- forecast(drift_model)
fcast$fitted
Mkt <- read.csv("../Data/Dax_2000_d.csv")
drift_model <- rwf(Mkt_train,drift=TRUE,h=5)
Mkt <- read.csv("../Data/Dax_2000_d.csv")
drift_model <- rwf(Mkt,drift=TRUE,h=5)
Mkt_ts <- ts(Mkt$Close)
drift_model <- rwf(Mkt_ts,drift=TRUE,h=5)
fcast <- forecast(drift_model)
fcast$fitted
fitted.data <- as.data.frame(fcast$fitted)
ln <- nrow(Mkt)
lw <- nrow(fitted.data)
Mkt_test_df <- cbind(Mkt,fitted.data)
tail(Mkt_test_df)
Mkt <- read.csv("../Data/Dax_2000_d.csv")
nrow(Mkt)
Mkt$Date[2999]
Mkt_ts <- ts(Mkt$Close)
Mkt_train <- window(Mkt_ts, end=2999.99)
Mkt_test <- window(Mkt_ts, start=3000)
mean_model <- ets(Mkt_train, h=5)
mean_model <- ets(Mkt_train)
a <- accuracy(mean_model, Mkt_test) #out of sample
rownames(a) <- c('Mean Training Set', 'Mean Test Set')
a
Mkt_train <- window(Mkt_ts, end=2999.99)
Mkt_test <- window(Mkt_ts, start=3000)
mean_model <- ets(Mkt_train)
a <- accuracy(mean_model, Mkt_test) #out of sample
rownames(a) <- c('Mean Training Set', 'Mean Test Set')
a
Mkt <- read.csv("../Data/F100_2000_d.csv")
Mkt_ts <- ts(Mkt$Close)
Mkt_train <- window(Mkt_ts, end=2999.99)
Mkt_test <- window(Mkt_ts, start=3000)
savepdf("chp_ts_ftse_2000-13_diff")
plot(diff(Mkt_train),
main="First Difference of FTSE 2000 - 2013",
xlab="Days since 2000",
ylab="FTSE Daily Price Movement",
xlim=c(100, 3000))
dev.off()
Mkt <- read.csv("../Data/F100_2000_d.csv")
Mkt_ts <- ts(Mkt$Close)
Mkt_train <- window(Mkt_ts, end=2999.99)
Mkt_test <- window(Mkt_ts, start=3000)
mod_ar <- function(Mkt, ord, nm){
res <- t(as.data.frame(rep(0,4)))
mod <- Arima(Mkt_ts, order=ord)
res[1,1] <- nm
res[1,2] <- round(mod$aic,1)
res[1,3] <- round(mod$aicc,1)
res[1,4] <- round(mod$bic,1)
return(res)
}
results <- t(as.data.frame(rep(0,4)))
colnames(results) <- c('Model','AIC','AICc','BIC')
r2 <- mod_ar(Mkt_train, c(3,1,1), 'Arima(3,1,1)')
results <- rbind(results,r2)
r2 <- mod_ar(Mkt_train, c(3,1,2), 'Arima(3,1,2)')
results <- rbind(results,r2)
r2 <- mod_ar(Mkt_train, c(3,1,3), 'Arima(3,1,3)')
results <- rbind(results,r2)
r2 <- mod_ar(Mkt_train, c(2,1,1), 'Arima(2,1,1)')
results <- rbind(results,r2)
r2 <- mod_ar(Mkt_train, c(2,1,2), 'Arima(2,1,2)')
results <- rbind(results,r2)
r2 <- mod_ar(Mkt_train, c(2,1,3), 'Arima(2,1,3)')
results <- rbind(results,r2)
results <- results[-1,]
# produce latex table
dat <- results
dig <- c(0,0,2,2,2)
cap <- c("Arima results.","Arima results 2.")
lab = 'tab:chp_ts:arima_res_r'
filname ='../Tables/chp_ts_arima_res_r.tex'
inclrnam=F
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
cap <- c("Arima results 2.","Arima results 2.")
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
cap <- c("AIC, AIcc and BIC results from alternative ARIMA models.","alternative ARIMA models")
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
cap <- c("AIC, AIc and BIC results from alternative ARIMA models.","alternative ARIMA models")
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
model_used_for_res <- Arima(Mkt_train, order=c(2,1,3))
model_name <- forecast(model_used_for_res)$method
arima_man_fcast <- forecast.Arima(model_used_for_res,Mkt_test)
fitted.data <- as.data.frame(arima_man_fcast$fitted);
ln <- nrow(Mkt)
lw <- nrow(fitted.data)
Mkt_test_df <- Mkt[(ln-lw+1):ln,]
Mkt_test_df <- cbind(Mkt_test_df,fitted.data)
colnames(Mkt_test_df) <- c('Date','Open','High','Low','Close','Forecast')
fitted.data
Mkt <- read.csv("../Data/F100_2000_d.csv")
Mkt_ts <- ts(Mkt$Close)
Mkt_train <- window(Mkt_ts, end=2999.99)
Mkt_test <- window(Mkt_ts, start=3000)
model_used_for_res <- Arima(Mkt_train, order=c(2,1,3))
model_name <- forecast(model_used_for_res)$method
arima_man_fcast <- forecast.Arima(model_used_for_res,Mkt_test)
fitted.data <- as.data.frame(arima_man_fcast$fitted);
fitted.data
Mkt_test
Mkt <- read.csv("../Data/F100_2000_d.csv")
Mkt_ts <- ts(Mkt$Close)
model_used_for_res <- Arima(Mkt_t, order=c(2,1,3))
model_used_for_res <- Arima(Mkt_ts, order=c(2,1,3))
model_name <- forecast(model_used_for_res)$method
arima_man_fcast <- forecast.Arima(model_used_for_res,Mkt_test)
fitted.data <- as.data.frame(arima_man_fcast$fitted);
fitted.data
ln <- nrow(Mkt)
Mkt_test_df <- cbind(Mkt,fitted.data)
colnames(Mkt_test_df) <- c('Date','Open','High','Low','Close','Forecast')
# plot the results
dat <- tail(Mkt_test_df)
dig <- 0
cap <- c("FTSE 100 foecast.","FTSE 100 forecast.")
lab = 'tab:chp_ts:ftse_100_fcast'
filname ='../Tables/chp_ts_ftse_100_fcast.tex'
inclrnam=F
print_xt(dat,dig,cap,lab,al,filname,inclrnam)
